{"version":3,"sources":["webpack:///src/components/user/forget.vue","webpack:///./src/components/user/forget.vue?3bf7","webpack:///./src/components/user/forget.vue"],"names":["forget","name","components","heade","data","toastInstanse","checkNo","phone","captch","phoneState","passwordCheckState","send","restTime","captchCode","regCode","pwd1","pwd2","setPwd","methods","checkPhone","this","$data","document","getElementsByClassName","getElementsByTagName","setAttribute","test","sendCaptcha","_this","$axios","get","params","tel","then","resp","console","log","$refs","capPrompt","style","that","time","setInterval","clearInterval","nextStep","_this2","put","pwd","$router","push","path","Object","mint_ui_common","message","position","duration","tPwd","mounted","captcha","$el","created","s","replace","date","Date","starDate","endDate","user_forget","render","_vm","_h","$createElement","_c","_self","attrs","title","_v","staticClass","state","label","placeholder","type","on","input","model","value","callback","$$v","expression","ref","disabled","click","staticStyle","display","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"0IAyDAA,GACAC,KAAA,SACAC,YACAC,gBAAA,GAEAC,KALA,WAMA,OACAC,cAAA,KACAC,SAAA,EACAC,MAAA,GACAC,OAAA,GACAC,WAAA,GACAC,mBAAA,GACAC,MAAA,EACAC,SAAA,GACAC,WAAA,SACAC,QAAA,GACAC,KAAA,GACAC,KAAA,GACAC,OAAA,KAGAC,SACAC,WADA,WAEA,IAAAZ,EAAAa,KAAAC,MAAAd,MACAe,SACAC,uBAAA,sBACAC,qBAAA,YACAC,aAAA,kBACA,0BAAAC,KAAAnB,IAIAa,KAAAC,MAAAV,MAAA,EACAS,KAAAC,MAAAZ,WAAA,YAJAW,KAAAC,MAAAV,MAAA,EACAS,KAAAC,MAAAZ,WAAA,SAKA,SAAAW,KAAAC,MAAAZ,WACAW,KAAAC,MAAAf,SAAA,EAEA,WAAAc,KAAAC,MAAAZ,YACA,MAAAW,KAAAC,MAAAT,WAEAQ,KAAAC,MAAAf,SAAA,IAGAqB,YAvBA,WAuBA,IAAAC,EAAAR,KACAA,KAAAS,OACAC,IAAA,0BACAC,QACAC,IAAAZ,KAAAC,MAAAd,SAGA0B,KAAA,SAAAC,GACAC,QAAAC,IAAAF,GACAN,EAAAP,MAAAR,WAAAqB,EAAA9B,KACAwB,EAAAP,MAAAP,QAAA,SAEAM,KAAAiB,MAAAC,UAAAC,MAAA,gBACA,IAAAC,EAAApB,KACAA,KAAAC,MAAAf,SAAA,EACA,IAAAmC,EAAAC,YAAA,WACAF,EAAAnB,MAAAT,WACA,GAAA4B,EAAAnB,MAAAT,WACA+B,cAAAF,GACAD,EAAAnB,MAAAf,SAAA,EACAkC,EAAAH,MAAAC,UAAAC,MAAA,eACAC,EAAAnB,MAAAT,SAAA,KAEA,MAEAgC,SAhDA,WAgDA,IAAAC,EAAAzB,KACAb,EAAAa,KAAAb,MACAS,EAAAI,KAAAJ,KAEAI,KAAAZ,QAAAY,KAAAP,YAAA,WAAAO,KAAAX,WACA,YAAAW,KAAAH,OACAG,KAAAS,OAAAiB,IAAA,2BACAd,IAAAzB,EACAwC,IAAA/B,IACAiB,KAAA,SAAAC,GACAC,QAAAC,IAAAF,GACAW,EAAAG,QAAAC,MAAAC,KAAA,cAIA9B,KAAAH,OAAA,QAGAG,KAAAC,MAAAhB,cAAA8C,OAAAC,EAAA,MAAAD,EACAE,QAAA,QACAC,SAAA,SACAC,SAAA,OAKAC,KA1EA,WA2EApC,KAAAH,OAAA,GACAG,KAAAJ,OAAAI,KAAAL,KACAK,KAAAH,OAAA,UAEAG,KAAAH,OAAA,KAiCAwC,QAtIA,WAuIArC,KAAAiB,MAAAqB,QAAAC,IAAApB,MAAA,aAGAqB,QA1IA,WA2IA,IAAAC,EAAA,sBACAA,IAAAC,QAAA,UACA,IAAAC,EAAA,IAAAC,KAAAH,GACAzC,KAAAC,MAAA4C,SAAAF,EACA,IAAAG,EAAA,IAAAF,KACA5C,KAAAC,MAAA6C,YCtMeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAjD,KAAakD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,SAA6BE,OAAOC,MAAA,UAAgBN,EAAAO,GAAA,KAAAJ,EAAA,OAAwBK,YAAA,oBAA8BL,EAAA,YAAiBK,YAAA,cAAAH,OAAiCI,MAAAT,EAAA5D,WAAAsE,MAAA,MAAAC,YAAA,SAAAC,KAAA,OAAyEC,IAAKC,MAAAd,EAAAlD,YAAuBiE,OAAQC,MAAAhB,EAAA,MAAAiB,SAAA,SAAAC,GAA2ClB,EAAA9D,MAAAgF,GAAcC,WAAA,YAAqB,GAAAnB,EAAAO,GAAA,KAAAJ,EAAA,OAA4BK,YAAA,oBAA8BL,EAAA,YAAiBiB,IAAA,UAAAZ,YAAA,cAAAH,OAA+CK,MAAA,MAAAC,YAAA,GAAAC,KAAA,QAA6CG,OAAQC,MAAAhB,EAAA,OAAAiB,SAAA,SAAAC,GAA4ClB,EAAA7D,OAAA+E,GAAeC,WAAA,YAAsBnB,EAAAO,GAAA,KAAAJ,EAAA,aAA8BK,YAAA,cAAAH,OAAiCgB,SAAArB,EAAA/D,QAAA2E,KAAA,WAAwCC,IAAKS,MAAAtB,EAAA1C,eAAyB0C,EAAAO,GAAA,WAAAP,EAAAO,GAAA,KAAAJ,EAAA,OAA0CiB,IAAA,YAAAZ,YAAA,SAAAe,aAAkDC,QAAA,UAAkBxB,EAAAO,GAAA,YAAAP,EAAAyB,GAAAzB,EAAAzD,UAAA,kBAAAyD,EAAAO,GAAA,KAAAJ,EAAA,OAAkFK,YAAA,oBAA8BL,EAAA,YAAiBK,YAAA,cAAAH,OAAiCK,MAAA,KAAAC,YAAA,QAAAC,KAAA,YAAqDC,IAAKC,MAAAd,EAAAb,MAAiB4B,OAAQC,MAAAhB,EAAA,KAAAiB,SAAA,SAAAC,GAA0ClB,EAAAtD,KAAAwE,GAAaC,WAAA,WAAoB,GAAAnB,EAAAO,GAAA,KAAAJ,EAAA,OAA4BK,YAAA,oBAA8BL,EAAA,YAAiBK,YAAA,cAAAH,OAAiCI,MAAAT,EAAApD,OAAA8D,MAAA,KAAAC,YAAA,UAAAC,KAAA,YAA0EC,IAAKC,MAAAd,EAAAb,MAAiB4B,OAAQC,MAAAhB,EAAA,KAAAiB,SAAA,SAAAC,GAA0ClB,EAAArD,KAAAuE,GAAaC,WAAA,WAAoB,GAAAnB,EAAAO,GAAA,KAAAJ,EAAA,OAA4BK,YAAA,oBAA8BL,EAAA,aAAkBK,YAAA,UAAAH,OAA6BO,KAAA,WAAiBC,IAAKS,MAAAtB,EAAAzB,YAAsByB,EAAAO,GAAA,iBAEtoDmB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACElG,EACAmE,GATF,EAVA,SAAAgC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/8.32c0f351b418b886edc8.js","sourcesContent":["<template>\n  <div>\n    <heade title=\"忘记密码\"></heade>\n    <div class=\"second widthBox\">\n      <mt-field\n        class=\"inputBorder\"\n        :state=\"phoneState\"\n        label=\"手机号\"\n        placeholder=\"请输入手机号\"\n        type=\"tel\"\n        v-model=\"phone\"\n        @input=\"checkPhone\"\n      ></mt-field>\n    </div>\n    <div class=\"second widthBox\">\n      <mt-field\n        class=\"inputBorder\"\n        ref=\"captcha\"\n        label=\"验证码\"\n        placeholder\n        type=\"text\"\n        v-model=\"captch\"\n      ></mt-field>\n      <mt-button class=\"sendCaptcha\" :disabled=\"checkNo\" type=\"primary\" @click=\"sendCaptcha\">发送验证码</mt-button>\n      <div class=\"prompt\" style=\"display: none\" ref=\"capPrompt\">*发送验证码成功，{{restTime}}s后可以再次发送</div>\n    </div>\n    <div class=\"second widthBox\">\n      <mt-field\n        class=\"inputBorder\"\n        label=\"密码\"\n        placeholder=\"请输入密码\"\n        type=\"password\"\n        v-model=\"pwd1\"\n        @input=\"tPwd\"\n      ></mt-field>\n    </div>\n    <div class=\"second widthBox\">\n      <mt-field\n        class=\"inputBorder\"\n        :state=\"setPwd\"\n        label=\"密码\"\n        placeholder=\"请再次确认密码\"\n        type=\"password\"\n        v-model=\"pwd2\"\n        @input=\"tPwd\"\n      ></mt-field>\n    </div>\n    <div class=\"second widthBox\">\n      <mt-button class=\"sendPwd\" type=\"primary\" @click=\"nextStep\">保存</mt-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Toast } from \"mint-ui\";\nimport heade from \"../header/return\";\n\nexport default {\n  name: \"forget\",\n  components: {\n    heade: heade\n  },\n  data() {\n    return {\n      toastInstanse: null,\n      checkNo: true,\n      phone: \"\",\n      captch: \"\",\n      phoneState: \"\",\n      passwordCheckState: \"\",\n      send: false,\n      restTime: 60,\n      captchCode: \"123456\",\n      regCode: '',\n      pwd1: '',\n      pwd2: '',\n      setPwd: ''\n    }\n  },\n  methods: {\n    checkPhone() {\n      var phone = this.$data.phone;\n      document\n        .getElementsByClassName(\"mint-cell-value\")[0]\n        .getElementsByTagName(\"input\")[0]\n        .setAttribute(\"maxlength\", \"11\");\n      if (!/^1(3|4|5|6|7|8|9)\\d{9}$/.test(phone)) {\n        this.$data.send = false;\n        this.$data.phoneState = \"error\";\n      } else {\n        this.$data.send = true;\n        this.$data.phoneState = \"success\";\n      }\n      if (this.$data.phoneState == \"error\") {\n        this.$data.checkNo = true;\n      } else if (\n        this.$data.phoneState == \"success\" &&\n        this.$data.restTime == \"60\"\n      ) {\n        this.$data.checkNo = false;\n      }\n    },\n    sendCaptcha() {\n      this.$axios\n        .get(\"/littleu/user/telexist\", {\n          params: {\n            tel: this.$data.phone\n          }\n        })\n        .then(resp => {\n          console.log(resp)\n          this.$data.captchCode = resp.data;\n          this.$data.regCode = 'true'\n        })\n      this.$refs.capPrompt.style = \"display:block\";\n      var that = this;\n      this.$data.checkNo = true;\n      var time = setInterval(function() {\n        that.$data.restTime--;\n        if (that.$data.restTime == 0) {\n          clearInterval(time);\n          that.$data.checkNo = false;\n          that.$refs.capPrompt.style = \"display:none\";\n          that.$data.restTime = 60;\n        }\n      }, 1000)\n    },\n    nextStep () {\n      let phone = this.phone\n      let pwd2 = this.pwd2\n      // console.log(this.captch, this.captchCode)\n      if (this.captch == this.captchCode && this.phoneState == \"success\") {\n        if (this.setPwd === 'success') {\n          this.$axios.put(\"/littleu/user/changepwd\", {\n            tel: phone,\n            pwd: pwd2\n            }).then((resp) => {\n              console.log(resp)\n              this.$router.push({ path: '/loginU' })\n            });\n          // 修改成功跳转\n        } else {\n          this.setPwd = 'error'\n        }\n      } else {\n        this.$data.toastInstanse = Toast({\n          message: \"验证码有误\",\n          position: \"middle\",\n          duration: 3000\n        })\n      }\n    },\n    // 确认密码相同\n    tPwd () {\n      this.setPwd = ''\n      if (this.pwd2 === this.pwd1) {\n        this.setPwd = 'success'\n      } else {\n        this.setPwd = ''\n      }\n    }\n    // 更改密码\n    // sure () {\n    //   if (this.$data.value19 != this.$data.value20) {\n    //     this.$Message.error(\"密码确认错误\");\n    //     console.log(\"密码确认错误\");\n    //   } else if (this.$data.value19 == this.$data.value20) {\n    //     $(\".mint-msgbox\").css(\"display\", \"none\");\n    //     $(\".v-modal\").css(\"display\", \"none\");\n    //     console.log(\"密码确认正确\");\n    //     var oldPwd = this.$data.value18;\n    //     var newPwd = this.$data.value20;\n    //     // this.$router.go(0)\n    //     this.$axios({\n    //       method: \"put\",\n    //       url: \"/littleu/distribution/changePassword\",\n    //       headers: {\n    //         \"Content-type\": \"application/json;charset=utf-8\"\n    //       },\n    //       data: JSON.stringify({ password: oldPwd, newPassword: newPwd })\n    //     }).then(res => {\n    //       console.log(res.data);\n    //       if (res.data == false) {\n    //         this.$Message.error(\"修改密码失败，原密码输入错误\");\n    //       } else if (res.data == true) {\n    //         this.$Message.success(\"新密码修改成功\");\n    //       }\n    //     });\n    //   }\n    // }\n  },\n  mounted() {\n    this.$refs.captcha.$el.style = \"width:65%\";\n    // this.$refs.dateBox.getElementsByTagName(\"input\")[0].setAttribute('class','disType');\n  },\n  created() {\n    var s = \"1950-01-01 00:00:00\";\n    s = s.replace(/-/g, \"/\");\n    var date = new Date(s);\n    this.$data.starDate = date;\n    var endDate = new Date();\n    this.$data.endDate = endDate;\n  }\n}\n</script>\n\n<style scoped>\n* {\n  text-align: left;\n}\n.inputBorder {\n  border: 1px #c3c3c3 solid;\n  border-radius: 4px;\n}\n\n.sendCaptcha {\n  font-size: 12px;\n}\n\n.second {\n  margin-top: 4%;\n  position: relative;\n}\n  .prompt {\n    font-size: 12px;\n    color: grey;\n  }\n\n  .sendCaptcha {\n    position: absolute;\n    right: 5%;\n    top: 0;\n    height: 48px;\n  }\n\n  .registSum {\n    margin-top: 3%;\n    width: 90%;\n    margin-left: 5%;\n    text-align: center;\n  }\n\n  .userKnow{\n    width: 90%;\n    height: 360px;\n    margin-left: 5%;\n    margin-top: 3%;\n    border: 1px #e2e2e2 solid;\n    padding: 2%;\n  }\n  .paddingBox{\n    padding-left: 5%;\n  }\n  .widthBox{\n    width: 90%;\n    margin-left: 5%;\n  }\n.nextBtn>>>label{\n  widows: 100%;\n  text-align: center;\n}\n.sendPwd {\n  width: 100%;\n  text-align: center\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/user/forget.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('heade',{attrs:{\"title\":\"忘记密码\"}}),_vm._v(\" \"),_c('div',{staticClass:\"second widthBox\"},[_c('mt-field',{staticClass:\"inputBorder\",attrs:{\"state\":_vm.phoneState,\"label\":\"手机号\",\"placeholder\":\"请输入手机号\",\"type\":\"tel\"},on:{\"input\":_vm.checkPhone},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"second widthBox\"},[_c('mt-field',{ref:\"captcha\",staticClass:\"inputBorder\",attrs:{\"label\":\"验证码\",\"placeholder\":\"\",\"type\":\"text\"},model:{value:(_vm.captch),callback:function ($$v) {_vm.captch=$$v},expression:\"captch\"}}),_vm._v(\" \"),_c('mt-button',{staticClass:\"sendCaptcha\",attrs:{\"disabled\":_vm.checkNo,\"type\":\"primary\"},on:{\"click\":_vm.sendCaptcha}},[_vm._v(\"发送验证码\")]),_vm._v(\" \"),_c('div',{ref:\"capPrompt\",staticClass:\"prompt\",staticStyle:{\"display\":\"none\"}},[_vm._v(\"*发送验证码成功，\"+_vm._s(_vm.restTime)+\"s后可以再次发送\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"second widthBox\"},[_c('mt-field',{staticClass:\"inputBorder\",attrs:{\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"type\":\"password\"},on:{\"input\":_vm.tPwd},model:{value:(_vm.pwd1),callback:function ($$v) {_vm.pwd1=$$v},expression:\"pwd1\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"second widthBox\"},[_c('mt-field',{staticClass:\"inputBorder\",attrs:{\"state\":_vm.setPwd,\"label\":\"密码\",\"placeholder\":\"请再次确认密码\",\"type\":\"password\"},on:{\"input\":_vm.tPwd},model:{value:(_vm.pwd2),callback:function ($$v) {_vm.pwd2=$$v},expression:\"pwd2\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"second widthBox\"},[_c('mt-button',{staticClass:\"sendPwd\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.nextStep}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5af6b36d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/forget.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5af6b36d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./forget.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./forget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./forget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5af6b36d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./forget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5af6b36d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/forget.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}