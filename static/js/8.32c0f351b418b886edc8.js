webpackJsonp([8],{NHuv:function(t,e){},vds5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Au9i"),i={name:"forget",components:{heade:a("4XAG").a},data:function(){return{toastInstanse:null,checkNo:!0,phone:"",captch:"",phoneState:"",passwordCheckState:"",send:!1,restTime:60,captchCode:"123456",regCode:"",pwd1:"",pwd2:"",setPwd:""}},methods:{checkPhone:function(){var t=this.$data.phone;document.getElementsByClassName("mint-cell-value")[0].getElementsByTagName("input")[0].setAttribute("maxlength","11"),/^1(3|4|5|6|7|8|9)\d{9}$/.test(t)?(this.$data.send=!0,this.$data.phoneState="success"):(this.$data.send=!1,this.$data.phoneState="error"),"error"==this.$data.phoneState?this.$data.checkNo=!0:"success"==this.$data.phoneState&&"60"==this.$data.restTime&&(this.$data.checkNo=!1)},sendCaptcha:function(){var t=this;this.$axios.get("/littleu/user/telexist",{params:{tel:this.$data.phone}}).then(function(e){console.log(e),t.$data.captchCode=e.data,t.$data.regCode="true"}),this.$refs.capPrompt.style="display:block";var e=this;this.$data.checkNo=!0;var a=setInterval(function(){e.$data.restTime--,0==e.$data.restTime&&(clearInterval(a),e.$data.checkNo=!1,e.$refs.capPrompt.style="display:none",e.$data.restTime=60)},1e3)},nextStep:function(){var t=this,e=this.phone,a=this.pwd2;this.captch==this.captchCode&&"success"==this.phoneState?"success"===this.setPwd?this.$axios.put("/littleu/user/changepwd",{tel:e,pwd:a}).then(function(e){console.log(e),t.$router.push({path:"/loginU"})}):this.setPwd="error":this.$data.toastInstanse=Object(s.Toast)({message:"验证码有误",position:"middle",duration:3e3})},tPwd:function(){this.setPwd="",this.pwd2===this.pwd1?this.setPwd="success":this.setPwd=""}},mounted:function(){this.$refs.captcha.$el.style="width:65%"},created:function(){var t="1950-01-01 00:00:00";t=t.replace(/-/g,"/");var e=new Date(t);this.$data.starDate=e;var a=new Date;this.$data.endDate=a}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("heade",{attrs:{title:"忘记密码"}}),t._v(" "),a("div",{staticClass:"second widthBox"},[a("mt-field",{staticClass:"inputBorder",attrs:{state:t.phoneState,label:"手机号",placeholder:"请输入手机号",type:"tel"},on:{input:t.checkPhone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t._v(" "),a("div",{staticClass:"second widthBox"},[a("mt-field",{ref:"captcha",staticClass:"inputBorder",attrs:{label:"验证码",placeholder:"",type:"text"},model:{value:t.captch,callback:function(e){t.captch=e},expression:"captch"}}),t._v(" "),a("mt-button",{staticClass:"sendCaptcha",attrs:{disabled:t.checkNo,type:"primary"},on:{click:t.sendCaptcha}},[t._v("发送验证码")]),t._v(" "),a("div",{ref:"capPrompt",staticClass:"prompt",staticStyle:{display:"none"}},[t._v("*发送验证码成功，"+t._s(t.restTime)+"s后可以再次发送")])],1),t._v(" "),a("div",{staticClass:"second widthBox"},[a("mt-field",{staticClass:"inputBorder",attrs:{label:"密码",placeholder:"请输入密码",type:"password"},on:{input:t.tPwd},model:{value:t.pwd1,callback:function(e){t.pwd1=e},expression:"pwd1"}})],1),t._v(" "),a("div",{staticClass:"second widthBox"},[a("mt-field",{staticClass:"inputBorder",attrs:{state:t.setPwd,label:"密码",placeholder:"请再次确认密码",type:"password"},on:{input:t.tPwd},model:{value:t.pwd2,callback:function(e){t.pwd2=e},expression:"pwd2"}})],1),t._v(" "),a("div",{staticClass:"second widthBox"},[a("mt-button",{staticClass:"sendPwd",attrs:{type:"primary"},on:{click:t.nextStep}},[t._v("保存")])],1)],1)},staticRenderFns:[]};var c=a("VU/8")(i,n,!1,function(t){a("NHuv")},"data-v-5af6b36d",null);e.default=c.exports}});
//# sourceMappingURL=8.32c0f351b418b886edc8.js.map